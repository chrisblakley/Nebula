/*!
	Theme Name: Nebula
	Theme URI: http://gearside.com/nebula
	Description: Nebula is a springboard WordPress theme framework for developers. Like other WordPress startup themes, it has custom functionality built-in (like shortcodes, styles, and JS/PHP functions), but unlike other themes Nebula is not meant for the end-user.
	Author: Pinckney Hugo Group
	Author URI: http://www.pinckneyhugo.com
	Version: 5.9.13.5842
	License: GNU General Public License v2.0 or later
	License URI: http://www.gnu.org/licenses/gpl-2.0.html
	Tags: one-column, two-columns, three-columns, four-columns, left-sidebar, right-sidebar, threaded-comments, theme-options, sticky-post, post-formats, microformats, full-width-template, front-page-post-form, flexible-header, featured-images, featured-image-header, editor-style, custom-menu, custom-colors, accessibility-ready
*/

@import 'variables';
@import 'mixins';
@import 'animations';
@import 'helpers';

// ===========================
// PHG Custom Styles
// ===========================

html {height: auto; font-size: 16px; overflow-x: hidden;} //Declare font-size in px here only. Use rem or rem() Sass function everywhere else.
body {overflow-x: hidden; background: $background_color; -webkit-font-smoothing: antialiased;}
::selection {background: lighten($primary_color, 50%); background: rgba(lighten($primary_color, 15%), 0.3);}
::-moz-selection {background: lighten($primary_color, 50%); background: rgba(lighten($primary_color, 15%), 0.3);}

img,
svg {vertical-align: middle; max-width: 100%; height: auto;
	path {@include prefix((transition: fill 0.25s));}
}
fieldset {border: 0; margin: 0; padding: 0;}
textarea {resize: vertical;}
ul {list-style-position: inside;
	ul {margin: 4px 0 0 0;}
	&.menu {padding: 0;}
}

//Typography
h1, h2, h3, h4, h5, h6 {line-height: 1.15em; margin-bottom: 0.5em;
	a {color: $primary_color;}
}
p, li, dt, dl, div {line-height: 1.625em;}
span {font-size: inherit;}
.chromeframe {margin: 0.2em 0; background: #ccc; color: #000; padding: 0.2em 0;}

a:not(.btn) {@include link-colors($primary_color, $secondary_color, darken($primary_color, 15%), $primary_color, $secondary_color); @include prefix((transition: all 0.25s));
	&:hover,
	&:focus,
	&:active {text-decoration: none; outline: none;}
}

.screen-reader-text {clip: rect(1px, 1px, 1px, 1px); position: absolute !important; height: 1px; width: 1px; overflow: hidden;}

//Forms
#form-messages {
	.sending {color: $warning_color;}
	.error {color: $danger_color;}
	.success {color: $success_color;}
}
input[type="checkbox"]{-webkit-appearance: checkbox;}
input[type="radio"]{-webkit-appearance: radio;}
button {cursor: pointer;}

form.nebula-search {position: relative; display: inline-block; margin: 0;
	input {max-width: 30px; padding: 0 6px; color: transparent; font-size: rem(12px); line-height: 1.15rem; border: 1px solid #ccc; border-radius: 20px; outline: none; cursor: pointer; @include prefix((transition: all 0.25s));
		&:hover {background-color: #fff;}
		&:focus {max-width: 210px; padding-left: 25px; background-color: #fff; cursor: auto; color: #292b2c;}
		&.open {max-width: 100%; padding-left: 25px; background-color: #fff; cursor: auto; color: #292b2c;}
		&.active {border-color: $primary_color; box-shadow: 0 0 5px rgba(red($primary_color), green($primary_color), blue($primary_color), .5);}

		&::-webkit-search-decoration,
		&::-webkit-search-cancel-button {display: none;}

		&:-moz-placeholder {color: transparent;}
		&:-ms-input-placeholder {color: transparent;}
		&::-webkit-input-placeholder {color: transparent;}

		&:focus:-moz-placeholder, &.open:-moz-placeholder {color: #aaa;}
		&:focus:-ms-input-placeholder, &.open:-ms-input-placeholder {color: #aaa;}
		&:focus::-webkit-input-placeholder, &.open::-webkit-input-placeholder {color: #aaa;}
	}

	i, svg {position: absolute; top: rem(4px); left: 7px; font-size: rem(12px); opacity: 0.5; pointer-events: none;}
}

.nebula_excerpt {white-space: nowrap;}
#wp_search_submit {color: #292b2c !important;
	&:hover {color: #000 !important;}
}
#searchsubmit {/* padding: 2px 5px !important; */ background: $primary_color; border: 0; @include prefix((transition: all 0.25s));
	#bigheadingcon & {background: $secondary_color;}
	&:hover {background: $secondary_color;}
}

code {font-family: monospace; background: #f6f6f6; border: 1px solid #ccc; padding: .2rem .4rem; border-radius: .25rem; color: #222;}

div.nebula-button {margin-bottom: 10px;}

//Highlight and emphasize search term in results
.searchresultword {@include background-color($primary_color, 0.2); padding: 0 2px; border-radius: 6px; font-size: inherit !important; @include prefix((transition: none 0.25s));
	&.transitionable {@include prefix((transition: background 0.25s));}
	article:hover & {@include background-color(#ff0 !important, 0.5);}
}
.filterresultword {@include background-color(#ff0, 0.2); padding: 0 2px; border-radius: 6px; font-size: inherit !important;}

.search .highlight {@include background-color($primary_color, 0.2);}

//Google Maps
.googlemapcon {width: 100%; height: 250px;
	a,
	i {@include prefix((transition: all 0.25s));}
}
	#map_canvas {width: 100%; height: 100%;}

	.mapgeolocation-icon.error {color: $danger_color;}

	.maprefresh {overflow: hidden; white-space: nowrap;
		&.timeout {color: #aaa; cursor: default;}
	}
	.maprefresh-icon.success {color: $success_color;}
	.mapweather-icon.inactive,
	.maptraffic-icon.inactive,
	.maprefresh-icon.inactive,
	.mapgeolocation-icon.inactive {opacity: 0.4;}

	#googlemap img {max-width: none;} //Prevents glitchy UI within embedded Google maps

.facebook-connect-con {font-size: rem(12px);
	i,
	a {@include link-colors(brand(facebook), darken(brand(facebook), 15%)); color: brand(facebook);}
}

//Infinite Load
.infinite-start-note {margin: 30px 0;
	a {font-size: rem(18px);}
}

.loadmorecon {position: relative; text-align: center; margin: 50px 0;
	&:before {content: '\f141'; font-family: "Font Awesome 5 Solid"; display: none;}
	svg.fa-ellipsis-h {position: absolute; top: 10px; left: 0; width: 100%; display: block; text-align: center; opacity: 0; pointer-events: none;}

	.infinite-loading {display: none; position: absolute; top: 0; left: 0; width: 100%;
		div {display: inline-block; width: 6px; height: 6px; border-radius: 12px; background: #444; @include prefix((animation: nebula-zoom 1s infinite easing(easeInOutQuad)), webkit moz);
			&.b {animation-delay: .2s;}
			&.c {animation-delay: .4s;}
		}
	}
	&.loading .infinite-loading {display: block;}

	&.disabled a {color: #444; opacity: 0.3; pointer-events: none;
		&:after {content: ''; opacity: 0; pointer-events: none;}
	}

	.infinite-load-more {position: relative; font-size: rem(18px); padding: 10px;
		&:after {content: '\f107'; font-family: "Font Awesome 5 Solid"; display: none;}
		svg.fa-angle-down {position: absolute; bottom: -10px; left: 0; width: 100%; display: block; text-align: center; transition: bottom 0.25s ease;}
		&:hover:after {bottom: -13px;}
	}

	&.loading .infinite-load-more {opacity: 0; pointer-events: none;}
}

.lazy-load {background-image: none !important;} //.js here may prevent true lazy loading due to race condition: https://github.com/chrisblakley/Nebula/issues/1558#issuecomment-361121336

// ===========================
// Specific library feature modifications
// ===========================

abbr, acronym {cursor: pointer; border-bottom: none; color: inherit;}

.pinterest-pin a {@include prefix((transition: none 0.25s));}
#___plusone_0 {width: 60px !important;}

html .btn {max-width: 100%; white-space: normal;}
.modal-xl {@include media("xl"){width: 90%; max-width: 1200px;};} //Allows for bigger modal
.modal-backdrop.show {opacity: 0.8;} //Darker modal backdrop
.form-check-input {margin-top: 0.35rem;}

svg.svg-inline--fa {max-width: none;} //Remove max-width: 100% for Font Awesome SVG icons

//Equalize column heights within a row (Not to be confused with .equalize class that uses main.js)
.row-table {display: block;
    [class*="col-sm"] {display: block; @include media("sm"){display: table-cell; float: none;};}
    [class*="col-md"] {display: block; @include media("md"){display: table-cell; float: none;};}
    [class*="col-lg"] {display: block; @include media("lg"){display: table-cell; float: none;};}

    &.sm-cols {@include media("sm"){display: table; table-layout: fixed;}; }
    &.md-cols {@include media("md"){display: table; table-layout: fixed;}; }
    &.lg-cols {@include media("lg"){display: table; table-layout: fixed;}; }
}

//Form Styles
h3.comment-reply-title {font-size: rem(12px);}
.logged-in-as {margin: 0;}

.wpcf7-form,
.nebula-login-form {
	label {display: block; margin-bottom: 0; font-size: rem(14px);}
}
.wpcf7-form br {display: none;}

//Essential CF7 styles
span.wpcf7-list-item {display: inline-block; margin: 0 0 0 1em;
	&.first {margin: 0;}
}
span.wpcf7-list-item-label {font-size: rem(14px);
	&::before,
	&::after {content: " ";}
}
.debuginfo {display: none; opacity: 0; height: 0; visibility: hidden; padding: 0; margin: 0; font-size: 0px; line-height: 0px; @include background-color(#fff); color: rgba(255, 255, 255, 0); pointer-events: none;}

//Nice animated spinner when submit is active
.wpcf7-form button#submit {display: inline-block; position: relative; overflow: hidden; transition: all 0.25s ease, padding 0.4s easing(easeOutBack);
	&:before {content: "\f110"; font-family: "Font Awesome 5 Solid"; display: none;}
	svg {position: absolute; top: 10px; left: -25px; transition: left 0.4s easing(easeOutBack); animation: nebula-spin 2s infinite linear;}

	&.active {padding-left: 35px;
	    &:before, svg {left: 10px;}
	}
}

.wpcf7 .screen-reader-response {display: none; font-size: rem(14px);}

.wpcf7-not-valid-tip {color: $danger_color;}

.wpcf7-response-output {position: relative; width: 100%; margin: 0; border-radius: 4px; font-size: rem(14px); text-align: center; padding: 0;
	&:before {content: ""; font-family: "Font Awesome 5 Solid"; display: none;}
	svg.svg-inline--fa {font-size: rem(36px); width: 100%; margin-bottom: 15px; text-align: center; display: none;}

	&.wpcf7-validation-errors {color: $danger_color; background: rgba(mix($danger_color, #fff, 25%), 0.8); border: 1px solid $danger_color; padding: 25px 10px 15px 10px;
		&:before {content: "\f057";}
		svg {display: block;}
	}
	&.wpcf7-spam-blocked {color: $danger_color; background: rgba(mix($danger_color, #fff, 25%), 0.8); border: 1px solid $danger_color; padding: 25px 10px 15px 10px;
		&:before {content: "\f05e";}
		svg {display: block;}
	}
	&.wpcf7-mail-sent-ok {color: $success_color; background: rgba(mix($success_color, #fff, 25%), 0.8); border: 1px solid $success_color; padding: 25px 10px 15px 10px;
		&:before {content: "\f00c";}
		svg {display: block;}
	}
}

//Lighten placeholders and fade them on focus
//Note: Can not use nested SCSS selectors on placeholder pseudos!
$placeholder_color: rgba(153, 153, 153, 0.9);
$placeholder_color_focus: rgba(153, 153, 153, 0) !important;
input::-webkit-input-placeholder,
textarea::-webkit-input-placeholder {font-weight: 300; color: $placeholder_color; @include prefix((transition: all 0.25s), webkit);}
input:-moz-placeholder,
textarea:-moz-placeholder {font-weight: 300; color: $placeholder_color; @include prefix((transition: all 0.25s), moz);} /* Eventually remove this line. */
input::-moz-placeholder,
textarea::-moz-placeholder {font-weight: 300; color: $placeholder_color; @include prefix((transition: all 0.25s), moz);}
input:-ms-input-placeholder,
textarea:-ms-input-placeholder {font-weight: 300; color: $placeholder_color; @include prefix((transition: all 0.25s), ms);}
	input:not(.nofade):focus::-webkit-input-placeholder,
	textarea:not(.nofade):focus::-webkit-input-placeholder {color: $placeholder_color_focus;}
	input:not(.nofade):focus:-moz-placeholder,
	textarea:not(.nofade):focus:-moz-placeholder {color: $placeholder_color_focus;} /* Eventually remove this line. */
	input:not(.nofade):focus::-moz-placeholder,
	textarea:not(.nofade):focus::-moz-placeholder {color: $placeholder_color_focus;}
	input:not(.nofade):focus:-ms-input-placeholder,
	textarea:not(.nofade):focus:-ms-input-placeholder {color: $placeholder_color_focus;}

::-ms-clear {display: none;} //Hide the IE clear "X"
::-ms-reveal {display: none;} //Hide the IE password reveal button

//jQuery UI Autocomplete Hero Search
div#nebula-hero-formcon {text-align: center; display: none;
	@include media("lg"){display: block;}
}

form#nebula-hero-search {display: inline-block; position: relative; margin: 0; width: 100%; max-width: 600px; text-align: center; z-index: 100; @include prefix((transition: all 0.5s));
	i, svg {position: absolute; top: rem(12px); left: 13px; font-size: rem(16px); color: #292b2c; pointer-events: none; z-index: 100;}

	input {display: block; width: 100%; font-size: rem(18px); padding-left: 35px; @include background-color(#fff, 0.9); border-radius: 0; box-shadow: 0px 3px 24px rgba(0, 0, 0, 0.2);
		&:focus {@include background-color(#fff, 0.95); box-shadow: 0 0 32px rgba(red($primary_color), green($primary_color), blue($primary_color), 0.6);}
	}

	&.autocompleted input {border-bottom-left-radius: 0; border-bottom-right-radius: 0; border: none;}
}

.form-identifier-nebula-hero-search { //Only on front-page hero search
	.external-link a {
		&:after {content: '\f35d'; font-family: "Font Awesome 5 Solid"; display: none;}
		svg.fa-external-link-alt {margin-left: 5px; font-size: rem(10px); opacity: 0.4;} //@todo "Nebula" 0: Find a better way to target the 2nd svg than the fa icon name class
	}
}
.ui-autocomplete.ui-widget-content li {position: relative;
	& a {@include link-colors(#292b2c, #292b2c, #292b2c, #292b2c, #292b2c);
		&:before {content: '\f105'; font-family: "Font Awesome 5 Solid"; display: none;}
		svg {width: 10px; margin-right: 5px; font-size: rem(10px); text-align: center; opacity: 0.5;}
	}
	&.type-post a:before {content: '\f1ea';}
	&.type-page a:before {content: '\f15c';}
	&.type-category a:before {content: '\f02e';}
	&.type-tag a:before {content: '\f02b';}
	&.type-menu-item a:before {content: '\f0c9';}
	&.type-event a:before {content: '\f073';}
	&.type-product a:before {content: '\f07a';}
	&.type-attachment a:before {content: '\f1c5';}
	&.file-zip a:before {content: '\f1c6';}
	&.type-user a:before {content: '\f007';}
	&.page-home a:before {content: '\f015';}
	&.sticky-post a:before {content: '\f08d';}

	&.search-link {font-size: rem(12px); border-top: 1px dotted #ddd;
		a {opacity: 0.7;}
	}
	&.more-results a:before {content: '\f002';}
	&.no-results a:before {content: '\00a0';}
}

//jQuery UI Autocomplete
.ui-autocomplete.ui-widget-content {margin-top: -10px; @include background-color(#fff, 0.95); border: none; border-top: 1px dotted #ddd; box-shadow: 1px 6px 9px 0 rgba(0, 0, 0, 0.2); z-index: 9999 !important; overflow: hidden;
	.ui-menu .ui-menu-item {font-size: rem(12px); padding: 3px 5px;}
	.ui-state-hover,
	.ui-widget-content .ui-state-hover,
	.ui-widget-header .ui-state-hover,
	li.ui-state-focus,
	.ui-widget-content li.ui-state-focus,
	.ui-widget-header li.ui-state-focus,
	.ui-widget-header li.ui-state-active {margin: 0; font-weight: normal; background: $primary_color; color: #fff; border: none;}
	.ui-state-hover a,
	li.ui-state-focus a,
	a.ui-state-active {color: #fff;}
	li a {display: inline-block; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width: 100%; @include prefix((transition: none 0.25s));}

	.ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active, a.ui-button:active, .ui-button:active, .ui-button.ui-state-active:hover {margin: 0; border: none; background: $primary_color;}

	@include mobile("landscape"){left: 0 !important; width: 100% !important;}
}

//Anchor tags that should not have transitions
.search-choice-close {@include prefix((transition: none 0.25s));}

.sharing-links {display: block;
	.nebula-social-button {display: inline-block; margin-right: 10px;
		span {vertical-align: inherit !important;}
	}
}

#error-page-suggestions {margin-top: 50px;
	h2 {font-size: rem(21px);}
	.suggestion-title {font-size: rem(16px); line-height: 28px;}
}

// ===========================
// Header
// ===========================

//Shade body when Mmenu Opens
#body-wrapper {will-change: transform;
	&:before {content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; @include background-color(#000, 0); z-index: 99995; pointer-events: none; @include prefix((transition: all 0.5s));}
	.admin-bar & {will-change: auto;} //Prevent this from affecting the admin-bar
	.mm-opening &:before {@include background-color(#000, 0.7);}

	@include media("lg"){will-change: auto;};
}

//Top row that appears at mobile sizes.
#mobilebarcon {position: relative; background: $primary_color; width: 100%; height: 42px; overflow: hidden; z-index: 1; @include prefix((transition: all 0.5s));
	a {font-size: rem(32px); @include link-colors(#fff, #aaa, #fff, #fff, #aaa); text-decoration: underline;}
	.mobilenavcon {display: block;
		#mobileheadersearch {margin-top: 0; margin-left: 20px; width: 74%; height: 42px;
			input {width: 100%; color: #fff; font-size: rem(18px); padding-left: 24px; line-height: 42px; background: none; border: none; outline: none; box-shadow: none; border-radius: 0;}
			input::-webkit-input-placeholder {font-weight: 300; color: rgba(255, 255, 255, 0.9);}
			input:-moz-placeholder {font-weight: 300; color: rgba(255, 255, 255, 0.9);}
			input::-moz-placeholder {font-weight: 300; color: rgba(255, 255, 255, 0.9);}
			input:-ms-input-placeholder {font-weight: 300; color: rgba(255, 255, 255, 0.9);}
			&:before {color: #fff; font-size: rem(18px); width: 19px; height: 19px; top: 12px; left: 0;}
		}
	}
	a.mobilenavtrigger {position: relative; font-size: rem(24px); padding: 0 14px; height: 42px; line-height: 42px; text-align: center; text-decoration: none; color: #fff; @include background-color(#fff, 0.25); z-index: 99999;
		&:hover {color: #fff; @include background-color(#fff, 0.4);}
		&.active {color: #fff; @include background-color(#fff, 0);}
	}

	@include media("lg"){height: 0;};
}
#mobilenav {visibility: hidden; height: 0;
	&.mm-menu {visibility: visible; height: 100%;}
}

//Includes Utility and Primary navigation rows (which also includes the logo)
#navigation-section {position: relative; z-index: 500;
	&.mp-above {padding-bottom: 20px;}
	&.mp-over {} //Default
}

//Extend animated sub menu dropdowns for WordPress menus (Used with the utility nav and primary nav)
@mixin nebula-dropdown($font-size: 14px, $line-height: 21px){
	ul.sub-menu {position: absolute; display: block; top: 120%; left: -9999px; height: auto; margin: 0; padding: 5px 0; opacity: 0; text-align: left; @include prefix((transition: top 0.35s easing(easeOutBack), opacity 0.25s)); @include background-color(#fff, 0.95); box-shadow: 0px 15px 50px 0 rgba(0, 0, 0, 0.25); z-index: 1001;
		.no-js & {width: 400px;}

		li.menu-item {display: block; margin: 0; padding: 0 5px;
			a {display: block; padding: 5px; margin: 0; font-size: rem($font-size); line-height: rem($line-height); @include link-colors($primary_color, #fff, $primary_color, $primary_color, #fff); white-space: nowrap;
				&:hover {background: $primary_color;}
			}
			ul.sub-menu {display: none;}
		}
	}

	&:hover,
	&:focus {
		> a {background: lighten($primary_color, 5%); color: #fff !important;}

		ul.sub-menu {left: 0; top: 100%; opacity: 1;
			li {background: none;}
		}
	}

	.no-js &:last-child:hover ul.sub-menu {left: auto; right: 0;}
}

#utilitynavcon {max-height: 0; opacity: 0; background: rgba(0, 0, 0, 0.5); @include prefix((transition: all 0.5s));
	@include media("lg"){height: auto; max-height: 200px; opacity: 1;};

	#utility-nav {position: relative;
		ul {list-style: none; margin: 0; padding: 0; display: flex; flex-direction: row; justify-content: flex-end;
			li.menu-item {position: relative;
				a {display: block; padding: 0 15px; color: #fff; font-size: rem(12px); line-height: rem(18px); color: #fff;}
				@include nebula-dropdown(12px, 14px);

				&.nebula-search {font-size: rem(14px);
					input {height: 22px; font-size: rem(11px); line-height: 22px;}
				}
			}
		}
	}
}

//Logo and primary navigation row
#logonavcon {display: block; position: relative; width: 100%; text-align: center; box-shadow: none; z-index: 5; @include prefix((transition: all .5s easing(easeInOutCubic)));
	@include media("lg"){top: 0;};

	img,
	svg:not(.svg-inline--fa) {width: 100%; height: auto; @include prefix((transition: all 0.5s));}

	.logocon {text-align: left;
		a {display: inline-block; margin: 0 auto; font-size: rem(21px); padding: 20px 0;
			@include media("lg"){margin: 0;}

			img,
			svg {max-width: 225px;}
		}
	}
}

#primary-nav {position: relative; display: none; z-index: 1000;
	@include media("lg"){display: block;};

	ul {list-style: none; margin: 0; padding: 0; display: flex; flex-direction: row; justify-content: flex-end; align-items: center;
		li.menu-item {position: relative; flex-grow: 1; flex-basis: 0;
			@include media("lg"){flex-grow: initial; flex-basis: initial;};

			a {display: block; padding: 10px 20px; text-align: left; font-size: rem(16px); line-height: rem(21px); color: #fff;}
			@include nebula-dropdown(14px, 21px);
		}
	}
}

#header-widget-area {
	.widget-container {margin-bottom: 25px; text-align: center;}

	ul.menu {list-style: none; margin: 0; padding: 0; display: flex; flex-direction: row; justify-content: space-between; align-items: center;
		li.menu-item {position: relative;
			a {display: block; padding: 10px 20px; text-align: center; font-size: rem(16px); line-height: rem(21px); color: $primary_color;}
			@include nebula-dropdown(14px, 21px);

			ul.sub-menu li a {text-align: left;}
		}
	}
}

//Row that contains event specific help: "Did you mean?", "Single result redirection", etc.
#nebula-drawer {position: relative; @include background-color(#000, 0.05); z-index: 1000; padding-top: 30px; padding-bottom: 15px;
	.close {position: absolute; top: 0; right: 0; z-index: 500;}
	input {max-width: 200px;}
}

#suggestedpage {display: none;}

//Homepage Hero
#hero-section {position: relative; padding: 0; margin: 0; overflow: hidden; background: url($template_directory + "/assets/img/phg/phg-nebula.jpg") no-repeat fixed center center /cover; text-align: center; @include prefix((transition: all 0.5s));
	#hero-content {margin-top: 80px; margin-bottom: 80px;
		@include media("md"){margin-top: 100px; margin-bottom: 100px;};

		h1 {position: relative; text-align: center; color: #fff; margin: 0; padding: 0; font-size: rem(48px); line-height: 1; font-weight: 800; z-index: 10; text-shadow: 0 3px 16px rgba(0, 0, 0, 0.1); @include prefix((transition: all 0.5s));
			@include media("md"){font-size: rem(60px);};
			@include media("lg"){font-size: rem(90px);};
		}

		h2 {position: relative; text-align: center; color: #fff; margin: 0 0 18px 0; padding: 0; font-size: rem(18px); font-weight: 300; z-index: 1; @include prefix((transition: all 0.5s));
			@include media("md"){font-size: rem(24px);};
			@include media("lg"){font-size: rem(32px);};
		}

		h3 {position: relative; text-align: center; color: #fff; margin: 0 0 18px 0; padding: 0; font-weight: 300; z-index: 1; text-shadow: 0 3px 10px rgba(0, 0, 0, 0.5); @include prefix((transition: all 0.5s));}

		img,
		iframe {margin-top: 50px;}

		.hero-cta {margin-top: 50px;}

		#hero-widget-area {
			img,
			iframe {margin: 0;}
		}
	}
}

.custom-color-overlay {position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none;}
.nebula-color-overlay {position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to right, #5B22E8, #FF2362); animation: nebulahero 60s infinite linear; opacity: 0.75; z-index: 0; pointer-events: none;
	#footer-section & {opacity: 0.85;
		&:after {content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 1; pointer-events: none;}
	}
}
@keyframes nebulahero {
	0% {@include prefix((filter: hue-rotate(0deg)));}
	100% {@include prefix((filter: hue-rotate(-360deg)));}
}

#bigheadingcon {position: relative; @include linear-gradient(to bottom, $primary_color, darken($primary_color, 5%));
	.title-desc-con {padding-top: 120px; padding-bottom: 60px;
		h1, h2, h3, h4, h5, h6 {color: #fff;}

		.page-title,
		.entry-title {font-size: rem(24px); font-weight: normal; margin: 0;
			@include media("md"){font-size: rem(48px);};
		}

		p,
		.page-meta,
		.entry-meta {color: #fff; font-size: rem(14px); line-height: rem(21px); margin: 10px 0;
			i, svg {margin-right: 2px; color: #bbb;}

			.meta-item {display: inline-block; margin-right: 10px;
				a {color: #999;
					&:hover {color: $primary_color;}
				}
			}
			.post-tags {font-style: italic;}
		}

		a {color: #fff; white-space: nowrap;
			&:hover {color: #aaa;}
		}

		.form-group {margin-bottom: 0;}
	}
}

#breadcrumb-section {position: relative; margin-bottom: 50px;
	.nebula-breadcrumbs {position: relative; padding: 3px 0; border-bottom: 1px solid #fff; font-size: rem(12px);}

	&.full {background-color: rgba(0, 0, 0, 0.0225); border-bottom: 1px solid #fff;
		.nebula-breadcrumbs {border: none;}
	}

	&.inner {border: 0; margin: 0;
		.nebula-breadcrumbs {border: none;}
	}

	&.dark {background-color: rgba(0, 0, 0, 0.5); color: #fff;
		a {@include link-colors(#fff, #aaa, #fff, #fff, #aaa); text-decoration: none;}
	}
}


// ===========================
// Content
// ===========================

#content-section {position: relative; margin-top: 15px; margin-bottom: 60px;
	@include media("sm"){margin-top: 60px;};
}

.row.multi-column-query {margin-bottom: 30px;}

.sticky-title i {font-size: rem(20px);}

.page-title,
.entry-title {padding-top: 0; margin-top: 0;}

.page-meta,
.entry-meta {font-size: rem(14px); line-height: rem(21px); margin: 0 0 10px 0;
	i, svg {margin-right: 2px; color: #bbb;}
	.meta-item {display: inline-block; margin-right: 10px;
		a {color: #999;
			&:hover {color: $primary_color;}
		}
	}
	.modified-on {font-style: italic; font-size: 0.75em;}
	.post-tags {font-style: italic;}
}

.featured-image {margin-top: 15px; margin-bottom: 15px;
	img {display: block; width: 100%;}
}

//WordPress WYSIWYG Content
.entry-content {margin-top: 10px; font-size: rem(16px); line-height: rem(24px);
	ul {list-style-position: inside; overflow: hidden; padding-left: 20px; list-style: disc;}
	ol {margin: 0; padding-left: 20px;}
	img {
		&.alignnone {margin-left: 0; margin-right: 0;}
		&.alignleft {display: inline; margin-left: 0; margin-right: 24px;}
		&.alignright {display: inline; margin-left: 24px; margin-right: 0;}
		&.aligncenter {clear: both; display: block; margin-left: auto; margin-right: auto;}
	}

	//Add margin-top to entry content headings (and applicable elements)
	p, ul, ol, dl, img, form, div, pre { //Only after these elements
		& + h1, & + h2, & + h3, & + h4, & + h5, & + h6 {margin-top: 2.25em;}
		& + p img {margin-top: 1.5em; margin-bottom: 0.75em;}
	}
}

.entry-caption {font-style: italic; margin-top: 15px;}

//Single Post Widget Area
#single-post-widget-area {margin-top: 50px;
	.widget-container {margin-bottom: 50px;}
}

#searchresults article,
.archive .content-section article {margin-bottom: 50px;}

//wp-pagenavi Pagination
div.wp-pagenavi {text-align: right; margin-bottom: 20px;
	span,
	a {display: inline-block; padding: 0 10px;}

	a {
		&:hover,
		&:focus {background: $primary_color; color: #fff; border: 1px solid $primary_color;}
	}
}

//WP Core Pagination
div.wp-pagination {text-align: right; margin-bottom: 20px;
	.page-numbers {display: inline-block; padding: 0 10px; border: 1px solid #bfbfbf;
		&.prev {}
		&.next {}
	}

	a:hover,
	a:focus {background: $primary_color; color: #fff; border: 1px solid $primary_color;}

	span.page-numbers.current {font-weight: 800; border-color: #000;}
}

.wpcf7 ul {padding: 0; max-height: 2000px; list-style: none; overflow: hidden; @include prefix((transition: all 0.75s));}
	.wpcf7-form.sent ul {max-height: 0;}

//Advanced Search
#advanced-search-form {margin-bottom: 0; opacity: 1; @include prefix((transition: opacity 0.5s));
	&.inactive {opacity: 0.3; pointer-events: none;}
}

	a#metatoggle {display: block; background: $primary_color; color: #fff; text-align: center; width: 100%; padding: 5px 10px;
		&:hover {background: darken($primary_color, 15%);}
	}
	#advanced-search-meta {max-height: 0; margin-bottom: 15px; @include prefix((transition: all 0.5s)); overflow: hidden;
		&.active {max-height: 250px;}
		&.finished {overflow: visible;}
	}

	.advanced-search-group.left-side {}
		#advanced-search-form .advanced-search-date {width: 47%; height: 28px; line-height: 28px;}
	.right-side .advanced-search-group {margin-bottom: 10px;}

	#advanced-search-form .advanced-search-keyword {width: 100%; font-size: rem(24px); line-height: 1.625em; font-weight: 300; padding: 0 10px; height: 48px; outline: none;}

.advanced-search-result {border-bottom: 1px dotted #ccc; padding-bottom: 10px; margin-top: 5px;}
	.post-date-time {margin-bottom: 5px;}
	.post-meta-tags {margin: 0;}
		.post-cats {margin-right: 10px;}

.more-or-prev-events {display: block; width: 100%; height: 50px; line-height: 50px; color: #fff; margin: 25px 0;
	&:hover {color: #fff;}
	&.all-events-loaded,
	&.no-prev-events {pointer-events: none; opacity: 0.3;}
}

a.resetfilters {font-size: rem(12px); color: $danger_color; opacity: 0;
	&:hover {color: darken($danger_color, 15%);}
	&.active {opacity: 1;}
}

#advanced-search-indicator {margin-bottom: 15px;}

#about-the-author {position: relative; background: #eee; padding-top: 30px; padding-bottom: 10px; margin-top: 20px; margin-bottom: 15px;
	.author-headshot {min-height: 100px; margin-bottom: 20px; text-align: center;
		img {width: 100%; max-width: 200px; /* border-radius: 500px; */ @include prefix((transition: all 0.75s));}
		@include media("md"){text-align: left;};
	}
	.author-name {display: block; padding-bottom: 15px; text-align: center;
		@include media("md"){display: inline-block; padding: 0; text-align: left;};
	}
	.author-location {display: block; white-space: nowrap; text-align: center;
		@include media("md"){text-align: left; display: inline-block;}
	}
	.author-social {display: block; margin-top: 17px; margin-bottom: 20px; font-size: rem(24px); text-align: center;
		@include media("md"){display: inline-block; margin-bottom: 0; float: right; font-size: rem(12px);};
	}
	.author-meta {margin-top: 5px; margin-bottom: 12px; font-size: rem(12px);
		i {margin-right: 2px;}
	}
	.author-jobtitle {display: block; text-align: center; margin-bottom: 15px;
		@include media("md"){display: inline-block; text-align: left; margin-bottom: 0;};
	}
	.author-contact {float: none; display: block;
		.author-email,
		.author-phonenumber {white-space: nowrap; display: block; text-align: center;
			@include media("md"){display: inline-block; margin-right: 5px; text-align: left;}
		}
		@include media("lg"){float: right; display: inline-block;};
	}
}

h2.articles-by {padding-top: 0;}
.bypostauthor {}

.loop-section article {margin: 60px 0;
	&:first-of-type {margin-top: 0;}
	&:last-of-type {margin-bottom: 0;}

	.entry-title {font-size: rem(28px); line-height: rem(32px); margin: 0 0 10px 0; font-weight: 300;}
	.featured-image {display: flex; align-items: center; max-height: 400px; overflow: hidden;
		img {transition: all 0.5s ease;}

		&:hover {
			img {transform: scale(1.05);}
		}
	}
	.entry-summary {font-size: rem(16px); line-height: rem(24px); margin: 0 0 10px 0; color: #444;}
}

//Comments
li.comment div.comment-meta {display: block;}
#nebulacommentswrapper {}
	#disqus_thread {margin-top: 20px;}

//Misc. WP Core styles
.gallery-caption {font-size: rem(12px);}


// ===========================
// Sidebar
// ===========================

#sidebar-section {
	.xoxo {list-style: none; margin: 0; padding: 0;}

	li.widget-container {margin: 10px 0 30px 0;
		&:first-child {margin-top: 0;}

		ul {margin: 0; padding: 0;
			li {list-style: none;}
		}
	}

	ul.menu {
		a {display: block; padding-right: 20px;}
		li.current-menu-item {
			a {color: $secondary_color;}
			.sub-menu a {@include link-colors($primary_color, $secondary_color, $primary_color, $primary_color, $secondary_color);}
		}
		li.menu-item {position: relative; padding: 5px 0 5px 0; list-style: none;
			ul.sub-menu {padding-left: 0;
				li.menu-item {padding: 5px 0 5px 10px; border-left: 1px solid $secondary_color;}
			}
		}
	}

	li.widget_archive label {display: none;}
	li.widget_categories ul li {
		&:before {content: '\f02e'; font-family: 'Font Awesome 5 Solid'; display: none;}
		svg {margin-right: 5px;}
	}

	//Overrides the default Tag Cloud widget. @TODO "Nebula" 0: Come up with a custom widget for tag list.
	.tagcloud a {display: inline-block; margin: 6px 3px 0 0; padding: 1px 8px; border-radius: 5px; @include background-color($primary_color, 0.1); color: $primary_color; font-size: rem(14px); //Font size needs !important
		&:hover {@include background-color($primary_color, 0.25); color: $primary_color;}
	}
}

//Nebula expandable sidebar subnav style defaults
a.toplevelvert_expander {position: absolute; top: 5px; right: 0; padding: 2px 10px !important;
	i, svg {font-size: rem(18px); display: block; width: 100%; @include prefix((transform: rotate(-90deg))); @include prefix((transition: transform 0.25s));}
		&.closed i, &.closed svg {@include prefix((transform: rotate(0deg)));}

	.flex-first & {right: auto; left: -30px;
		i, svg {@include prefix((transform: rotate(270deg)));}
			&.closed i, &.closed svg {@include prefix((transform: rotate(180deg)));}
	}
}

//Offcanvas Mmenu Modifications
.mm-menu .mm-navbar a[href]:hover {color: rgba(0, 0, 0, 0.6);}
.mm-list > li:not(.mm-subtitle):not(.mm-label):not(.mm-noresults):after {margin-left: 0;}
.mm-list a {border: none;
	&.mm-subopen {width: 80px;} /* Sometimes the width does not work. If it is too wide- remove this line. */
	&.mm-subopen + a, .mm-list a.mm-subopen + span {margin-right: 80px;} /* Sometimes the width does not work. If it is too wide- remove this line. */
	&.mm-subopen:hover {@include background-color(#000, 0.1);}
}
.mm-menu .mm-listview > li a:not(.mm-next) {color: #292b2c;}
.mm-list > li > a:hover {@include background-color(#000, 0.1);}
.mm-menu.mm-light .mm-list > li > a.mm-subclose:hover {text-decoration: none; @include background-color(#000, 0.05);}
.mm-menu.mm-hassearch > .mm-panel > .mm-list:first-child {margin-top: 0px;}
.mm-list > li:not(.mm-subtitle):not(.mm-label):not(.mm-search):not(.mm-noresults):after {margin-left: 0;}
.mm-menu li.current_page_item {@include background-color(#fff); font-weight: 800; color: #000;
	a:not(.mm-next) {
		&:before {content: "\f138"; font-family: "Font Awesome 5 Solid"; display: none;}
		svg {margin-right: 5px; color: rgba(0, 0, 0, 0.6);}
	}
}
.mm-listview {
	a:hover {@include background-color(#000, 0.05);}

	.mm-next {width: 90px;
		&:after {@include prefix((transition: right 0.5s easing(custom, "0.175, 0.885, 0.320, 1.275")));}
		&:hover:after {right: 15px;}
	}
}
.mm-slideout {z-index: auto;}


// ===========================
// Footer
// ===========================

//Footer Widgets
#footer-widget-section {position: relative; padding: 50px 0; background: #ddd;
	.widget-container {font-size: rem(16px);
		.widget-title {font-size: rem(18px); font-weight: 800; margin-bottom: 15px;}

		ul {margin: 0; padding: 0;
			li {list-style: none; font-size: rem(16px); margin: 0 0 10px 0;}
		}
	}
}

#footer-section {position: relative; padding: 50px 0 150px 0; background: url($template_directory + "/assets/img/phg/phg-nebula-mountain.jpg") no-repeat bottom center / cover; @include prefix((transition: all 0.5s));
	@include media("lg"){padding: 50px 0 200px 0;};
	a:not(.btn) {@include link-colors(#fff, #aaa, #fff, #fff, #aaa);}
}

//Footer Logo
.footerlogocon {text-align: center; margin-bottom: 20px;}

//Power Footer
.row.powerfootercon {display: none; padding-top: 20px; margin-bottom: 30px;
	@include media("lg"){display: block;};

	#powerfooter {position: relative; z-index: 1000;
		ul {display: flex; list-style: none; margin-bottom: 25px; z-index: 10;
			li.menu-item {align-self: stretch; flex: 1;
				&:first-child {}
				&:last-child {}

				a {display: block; font-size: rem(18px); font-weight: 800; margin-bottom: 10px;}

				ul.sub-menu {display: block; margin: 0; padding: 5px 0;
					li {display: block; margin: 0 0 10px 0; padding: 0;
						a {display: block; font-size: rem(16px); font-weight: normal; margin-bottom: 0;}
						ul.sub-menu {display: none;}
					}
				}
			}
		}
	}
}

//Footer Search
form.footer-search,
#footer-section form.nebula-search {position: relative; display: block; margin: 10px auto 0 auto; width: 150px; z-index: 10;
	@include media("md"){display: inline-block; margin: 0 0 0 10px; width: auto;};

	&:before {color: rgba(255, 255, 255, 0.75);}
	input {background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.1); color: #fff;
		&:focus {background: rgba(255, 255, 255, 0.3);}
	}
}

//Footer Copyright
.copyright-con {position: relative; padding-top: 20px; text-align: center; color: #fff; z-index: 10;
	p {display: inline-block; font-size: rem(14px); color: #fff;}
}


/* Nebula Desktop Helper Styles */
.disallowed {background: #bbb !important; border: 1px solid #999 !important; cursor: default !important;
	&.notallowed {cursor: not-allowed !important;}
}
.focusError {background-color: #fcc !important; border: 1px solid #f88 !important; @include prefix((transition: all 0.25s));}


// ===========================
// Widgets
// ===========================

//About the Author
.about-the-author {
	&:before {content: ""; display: block; border-top: 5px solid $primary_color; width: 150px; margin-bottom: 25px;}

	.headshot-title-con {display: flex; align-items: center; margin-bottom: 10px;
		p {margin: 0; color: #777;}
		img {max-width: 60px; border-radius: 50%; margin-right: 15px;}
		h3 {margin: 0;}
	}

	ul.author-social {display: flex; list-style: none; margin: 0; padding: 0;
		li {margin-right: 15px;
			&:last-child {margin-right: 0;}
			a {font-size: rem(21px);}
		}
	}
}


.nebula-twitter-widget {
	&:before {content: ""; display: block; border-top: 5px solid $primary_color; width: 150px; margin-bottom: 25px;}

	.user-profile-con {display: flex; align-items: center; margin-bottom: 10px;
		p {margin: 0; color: #777;}
		img {max-width: 60px; border-radius: 50%; margin-right: 15px;}
		h3 {margin: 0;}
	}

	.tweet {
		small {color: #777;}
	}
	.tweet-date {font-size: rem(14px); font-style: italic; @include link-colors(#777, #777, #777, #777, #777);}
}


//Cross-links Next/Previous
.prev-link-con {text-align: left;}
.next-link-con {text-align: right;}
	.prevnext-post-heading {font-size: rem(12px); text-transform: uppercase; font-weight: 800; margin: 0; padding: 0;}
	.prevnext-post-link {font-size: rem(14px);}

//Social Page Links
ul.about-social {display: flex; list-style: none; margin: 0; padding: 0;
	li {margin-right: 15px;
		&:last-child {margin-right: 0;}
		a {font-size: rem(21px);}
	}
}


// ===========================
// Shortcodes
// ===========================

.nebula-tooltip {border-bottom: 1px dotted #aaa;}

.gist {
	.line-numbers {font-size: rem(12px);}
	.file-data pre,
	.line-data {font-size: rem(12px);}
}

.nebula-youtube {margin-bottom: 15px;}
.nebula-vimeo {margin-bottom: 15px;}

.accordion {position: relative; margin-top: 10px; margin-bottom: 10px;}
.accordion-item {margin: 4px 0; border: 2px solid #e5e5e5; @include prefix((transition: border-color 0.3s ease));
	.accordion-toggle .accordion-heading {display: block; padding: 10px 15px; font-size: rem(20px); color: #2c3e50; background-color: #fafafa; cursor: pointer;
		&:before {content: "\f067"; font-family: "Font Awesome 5 Solid";}
		svg {position: relative; display: inline-block; bottom: 0.1em; margin-right: 10px; color: #000; font-size: rem(12px); @include prefix((transform: rotate(45deg))); @include prefix((transition: all 0.3s ease));}
	}

	&.accordion-collapsed .accordion-toggle .accordion-heading:before {color: #d3d3d3; @include prefix((transform: rotate(0)));}
	.accordion-content-con {display: none;
		.accordion-content {padding: 15px; border-top: 2px solid #e5e5e5;}
	}
}

//Windows Chrome Font Bug Fix: http://stackoverflow.com/questions/22011139/google-fonts-are-not-rendering-on-google-chrome @TODO "Nebula" 0: Not Working...
/*
body * {-webkit-animation-duration: 0.1s; -webkit-animation-name: fontfix; -webkit-animation-iteration-count: 1; -webkit-animation-timing-function: linear; -webkit-animation-delay: 0.1s;}
@-webkit-keyframes fontfix{from {opacity: 1;} to {opacity: 1;}}
*/

@-ms-viewport {width: device-width;}

//Print styles
@include print(){
	html {margin-top: 0 !important;} //Still not specific enough

	//* {/* background: transparent !important;  */ color: #000 !important; box-shadow: none !important; text-shadow: none !important;}
	//a, a:visited {text-decoration: underline;}
	/* .entry-content a[href]:after {content: " (" attr(href) ")";} */

	.ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {content: "";} /* Don't show links for images, or javascript/internal links */
	thead {display: table-header-group;}
	tr, img {page-break-inside: avoid;}
	//img {max-width: 100% !important;}

	@page {margin: 0.5cm;}
	p, h2, h3 {orphans: 3; widows: 3;}
	h2, h3 {page-break-after: avoid;}
};